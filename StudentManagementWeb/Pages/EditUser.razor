@page "/edituser/{id}"

@using StudentManagementWeb.Data
@using StudentManagementWeb.Services
@using Microsoft.AspNetCore.Mvc.TagHelpers
@inject UserService UserService

<h1>Edit User</h1>

@if (user == null)
{
    <p><em>Loading...</em></p>
}
else
{
    <form>
        <div class="form-group">
            <input class="form-control" value=@user.firstName>
        </div>
        <div class="form-group">
            <input class="form-control" value=@user.lastName>
        </div>
        <div class="form-group">
            <input class="form-control" value=@user.email>
        </div>
        <div class="form-group">
            <input class="form-control" value=@user.role disabled>
        </div>
        <button type="submit" class="btn btn-success">Save</button>
    </form>

}


@code {
    [Parameter]
    public string Id { get; set; }

    private User user;

    protected override async Task OnInitializedAsync()
    {
        user = await UserService.GetUser(int.Parse(Id));
    }
}
